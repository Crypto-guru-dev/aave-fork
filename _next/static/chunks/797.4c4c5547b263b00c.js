"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{62753:function(e,t,r){var n=r(64836);t.Z=void 0;var o=n(r(64938)),s=r(85893),a=(0,o.default)((0,s.jsx)("path",{d:"m19.77 7.23.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM12 10H6V5h6v5zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"LocalGasStation");t.Z=a},89722:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(87462),o=r(63366),s=r(67294),a=r(86010),i=r(94780),l=r(81719),c=r(78884),u=r(36622),d=r(34867);function p(e){return(0,d.Z)("MuiIcon",e)}(0,r(1588).Z)("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var m=r(85893);const f=["baseClassName","className","color","component","fontSize"],y=(0,l.ZP)("span",{name:"MuiIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"inherit"!==r.color&&t[`color${(0,u.Z)(r.color)}`],t[`fontSize${(0,u.Z)(r.fontSize)}`]]}})((({theme:e,ownerState:t})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(36)}[t.fontSize],color:{primary:(e.vars||e).palette.primary.main,secondary:(e.vars||e).palette.secondary.main,info:(e.vars||e).palette.info.main,success:(e.vars||e).palette.success.main,warning:(e.vars||e).palette.warning.main,action:(e.vars||e).palette.action.active,error:(e.vars||e).palette.error.main,disabled:(e.vars||e).palette.action.disabled,inherit:void 0}[t.color]}))),h=s.forwardRef((function(e,t){const r=(0,c.Z)({props:e,name:"MuiIcon"}),{baseClassName:s="material-icons",className:l,color:d="inherit",component:h="span",fontSize:v="medium"}=r,b=(0,o.Z)(r,f),g=(0,n.Z)({},r,{baseClassName:s,color:d,component:h,fontSize:v}),x=(e=>{const{color:t,fontSize:r,classes:n}=e,o={root:["root","inherit"!==t&&`color${(0,u.Z)(t)}`,`fontSize${(0,u.Z)(r)}`]};return(0,i.Z)(o,p,n)})(g);return(0,m.jsx)(y,(0,n.Z)({as:h,className:(0,a.default)(s,"notranslate",x.root,l),ownerState:g,"aria-hidden":!0,ref:t},b))}));h.muiName="Icon";var v=h},9144:function(e,t,r){var n=r(63366),o=r(87462),s=r(67294),a=r(95408),i=r(98700),l=r(39707),c=r(59766),u=r(81719),d=r(78884),p=r(85893);const m=["component","direction","spacing","divider","children"];function f(e,t){const r=s.Children.toArray(e).filter(Boolean);return r.reduce(((e,n,o)=>(e.push(n),o<r.length-1&&e.push(s.cloneElement(t,{key:`separator-${o}`})),e)),[])}const y=(0,u.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let r=(0,o.Z)({display:"flex",flexDirection:"column"},(0,a.k9)({theme:t},(0,a.P$)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const n=(0,i.hB)(t),o=Object.keys(t.breakpoints.values).reduce(((t,r)=>(("object"===typeof e.spacing&&null!=e.spacing[r]||"object"===typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t)),{}),s=(0,a.P$)({values:e.direction,base:o}),l=(0,a.P$)({values:e.spacing,base:o});"object"===typeof s&&Object.keys(s).forEach(((e,t,r)=>{if(!s[e]){const n=t>0?s[r[t-1]]:"column";s[e]=n}}));const u=(t,r)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${o=r?s[r]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,i.NA)(n,t)}};var o};r=(0,c.Z)(r,(0,a.k9)({theme:t},l,u))}return r=(0,a.dt)(t.breakpoints,r),r})),h=s.forwardRef((function(e,t){const r=(0,d.Z)({props:e,name:"MuiStack"}),s=(0,l.Z)(r),{component:a="div",direction:i="column",spacing:c=0,divider:u,children:h}=s,v=(0,n.Z)(s,m),b={direction:i,spacing:c};return(0,p.jsx)(y,(0,o.Z)({as:a,ownerState:b,ref:t},v,{children:u?f(h,u):h}))}));t.Z=h},47130:function(e,t,r){r.d(t,{X:function(){return l}});var n=r(61953),o=r(90149),s=(r(67294),r(46839)),a=r(38776),i=r(85893),l=function(e){var t=e.children,r=(0,s.HT)(),l=r.user;return r.loading?(0,i.jsx)(n.Z,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(o.Z,{})}):((0,a.Z)(l,"User data loaded but no user found"),(0,i.jsx)(i.Fragment,{children:t(l)}))}},84734:function(e,t,r){r.d(t,{v:function(){return a}});var n=r(49501),o=r(68861),s=r(85893),a=function(){return(0,s.jsx)(n.cC,{id:"<0>Ampleforth</0> is a rebasing asset. Visit the <1>documentation</1> to learn more.",components:{0:(0,s.jsx)("b",{}),1:(0,s.jsx)(o.rU,{href:"https://docs.aave.com/developers/v/2.0/guides/ampl-asset-listing",underline:"always"})}})}},86099:function(e,t,r){r.d(t,{C:function(){return m}});var n=r(49501),o=r(80227),s=r(9144),a=r(29630),i=r(61953),l=r(91655),c=r(81645),u=r(39051),d=r(41024),p=r(85893),m=function(e){var t=e.decimals,r=e.tokenWrapperAddress,m=e.tokenInSymbol,f=e.tokenOutSymbol,y=(0,u.v)("1",t,r),h=y.isLoading,v=y.data;return(0,p.jsxs)(s.Z,{direction:"column",gap:3,children:[(0,p.jsx)(a.Z,{variant:"tooltip",children:(0,p.jsx)(n.cC,{id:"DAI balance will be converted via DSR contracts and then supplied as sDAI. Switching incurs no additional costs and no slippage."})}),(0,p.jsxs)(s.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,p.jsx)(i.Z,{children:(0,p.jsx)(a.Z,{variant:"secondary12",children:(0,p.jsx)(n.cC,{id:"Exchange rate"})})}),h?(0,p.jsx)(l.Z,{variant:"rectangular",width:120,height:14}):(0,p.jsxs)(s.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,p.jsx)(d.B,{value:"1",visibleDecimals:0,variant:"secondary12",color:"text.primary"}),(0,p.jsx)(a.Z,{variant:"tooltip",children:m}),(0,p.jsx)(c.Z,{color:"primary",sx:{fontSize:"12px"},children:(0,p.jsx)(o.Z,{})}),(0,p.jsx)(d.B,{value:v||"0",visibleDecimals:4,variant:"secondary12",color:"text.primary"}),(0,p.jsx)(a.Z,{variant:"tooltip",children:f})]})]})]})}},92874:function(e,t,r){r.r(t),r.d(t,{SupplyModal:function(){return Te}});var n=r(59499),o=r(49501),s=r(67294),a=r(47130),i=r(8195),l=r(31959),c=r(94635),u=r(80854),d=r(82403),p=r(1279),m=r(9144),f=r(29630),y=r(91655),h=r(70794),v=r(86099),b=r(41024),g=r(72667),x=r(69331),k=r(58527),S=r(84734),C=r(82482),w=r(39051),j=r(43629),A=r(46930),T=r(71691),O=r(78371),I=r(94847),E=r(68448),R=r(63206),M=r(57609),P=r(87385),L=r(46839),B=r(81902),Z=r(53601),D=r(67916),N=r(93608),W=r(20644),q=r(94671),U=r(68346),F=r(68861),z=r(85893),$=function(){return(0,z.jsx)(x.v,{severity:"info",children:(0,z.jsxs)(f.Z,{children:[(0,z.jsx)(o.cC,{id:"Supplying your"})," AAVE"," ",(0,z.jsx)(o.cC,{id:"tokens is not the same as staking them. If you wish to stake your"})," AAVE"," ",(0,z.jsx)(o.cC,{id:"tokens, please go to the"})," ",(0,z.jsx)(U.Z,{href:F.Z6.staking,children:(0,z.jsx)(o.cC,{id:"staking view"})})]})})},H=r(18384),_=function(){return(0,z.jsx)(x.v,{severity:"warning",children:(0,z.jsxs)(f.Z,{children:[(0,z.jsx)(o.cC,{id:"Before supplying"})," SNX"," ",(0,z.jsx)(o.cC,{id:"please check that the amount you want to supply is not currently being used for staking. If it is being used for staking, your transaction might fail."})]})})},V=r(50029),Q=r(17674),G=r(4730),Y=r(87794),X=r.n(Y),K=r(75331),J=r(85945),ee=r(56371),te=r(28744),re=r(93591),ne=r(77537),oe=r(32113),se=r(39771),ae=r(31001),ie=r(67489),le=["amountToSupply","poolAddress","isWrongNetwork","sx","symbol","blocked","decimals","isWrappedBaseAsset"];function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=s.memo((function(e){var t=e.amountToSupply,r=e.poolAddress,n=e.isWrongNetwork,a=e.sx,l=e.symbol,c=e.blocked,d=e.decimals,p=e.isWrappedBaseAsset,m=(0,G.Z)(e,le),f=(0,O.Y)((function(e){return[e.tryPermit,e.supply,e.supplyWithPermit,e.walletApprovalMethodPreference,e.estimateGasLimit,e.addTransaction,e.currentMarketData]})),y=(0,Q.Z)(f,7),h=y[0],v=y[1],b=y[2],g=y[3],x=y[4],k=y[5],S=y[6],C=(0,i.vR)(),w=C.approvalTxState,j=C.mainTxState,A=C.loadingTxns,T=C.setLoadingTxns,I=C.setApprovalTxState,E=C.setMainTxState,R=C.setGasLimit,M=C.setTxError,P=h({reserveAddress:r,isWrappedBaseAsset:p}),L=(0,ne.Z)().sendTx,B=(0,J.NL)(),Z=(0,s.useState)(),D=Z[0],N=Z[1],W=(0,re.y)(S,r),U=W.data,F=W.refetch,$=W.isRefetching,H=W.isFetchedAfterMount;T($);var _=0!==Number(t)&&(0,q.iv)({approvedAmount:(null===U||void 0===U?void 0:U.amount)||"0",amount:t,signedAmount:D?D.amount:"0"});_&&null!==w&&void 0!==w&&w.success&&I({});var Y=P&&g===oe.n.PERMIT,ce=(0,te.M)({usePermit:Y,approvedAmount:U,requiresApproval:_,assetAddress:r,symbol:l,decimals:d,signatureAmount:t,onApprovalTxConfirmed:F,onSignTxCompleted:function(e){return N(e)}}).approval;(0,s.useEffect)((function(){H||F()}),[F,H]),(0,s.useEffect)((function(){var e=0;Y?e=Number(u.eB[K.UQ.supplyWithPermit].recommended):(e=Number(u.eB[K.UQ.supply].recommended),_&&!w.success&&(e+=Number(q.pQ))),R(e.toString())}),[_,w,Y,R]);var de=function(){var e=(0,V.Z)(X().mark((function e(){var n,o,s,a,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E(ue(ue({},j),{},{loading:!0})),o=K.UQ.default,!Y||!D){e.next=16;break}return o=K.UQ.supplyWithPermit,s=b({signature:D.signature,amount:(0,ee.parseUnits)(t,d).toString(),reserve:r,deadline:D.deadline}),e.next=8,x(s);case 8:return s=e.sent,e.next=11,L(s);case 11:return n=e.sent,e.next=14,n.wait(1);case 14:e.next=26;break;case 16:return o=K.UQ.supply,a=v({amount:(0,ee.parseUnits)(t,d).toString(),reserve:r}),e.next=20,x(a);case 20:return a=e.sent,e.next=23,L(a);case 23:return n=e.sent,e.next=26,n.wait(1);case 26:E({txHash:n.hash,loading:!1,success:!0}),k(n.hash,{action:o,txState:"success",asset:r,amount:t,assetName:l}),B.invalidateQueries({queryKey:ae.B.pool}),e.next=36;break;case 31:e.prev=31,e.t0=e.catch(0),i=(0,se.WG)(e.t0,se.aD.GAS_ESTIMATION,!1),M(i),E({txHash:void 0,loading:!1});case 36:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(){return e.apply(this,arguments)}}();return(0,z.jsx)(ie.B,ue({blocked:c,mainTxState:j,approvalTxState:w,isWrongNetwork:n,requiresAmount:!0,amount:t,symbol:l,preparingTransactions:A||!U,actionText:(0,z.jsx)(o.cC,{id:"Supply {symbol}",values:{symbol:l}}),actionInProgressText:(0,z.jsx)(o.cC,{id:"Supplying {symbol}",values:{symbol:l}}),handleApproval:ce,handleAction:de,requiresApproval:_,tryPermit:P,sx:a},m))})),pe=r(5991),me=["tokenIn","amountToSupply","decimals","symbol","tokenWrapperAddress","isWrongNetwork","sx"];function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he,ve=function(e){var t=e.tokenIn,r=e.amountToSupply,n=e.decimals,a=e.symbol,l=e.tokenWrapperAddress,c=e.isWrongNetwork,d=e.sx,p=(0,G.Z)(e,me),m=(0,O.Y)((function(e){return[e.account,e.estimateGasLimit,e.addTransaction,e.currentMarketData]})),f=(0,Q.Z)(m,4),y=f[0],h=f[1],v=f[2],b=f[3],g=(0,pe.z)().tokenWrapperService,x=(0,s.useState)(),k=x[0],S=x[1],C=(0,i.vR)(),w=C.approvalTxState,j=C.mainTxState,A=C.loadingTxns,T=C.setApprovalTxState,I=C.setMainTxState,E=C.setTxError,R=C.setGasLimit,M=(0,ne.Z)().sendTx,P=(0,J.NL)(),L=(0,re.i)({chainId:b.chainId,token:t,spender:l}),B=L.data,Z=L.isFetching,D=L.refetch,N=!1;void 0!==B&&(N=(0,q.iv)({approvedAmount:B.toString(),amount:r,signedAmount:k?k.amount:"0"}));var W=!1,U=0;U=Number(u.eB[K.UQ.supply].recommended),N&&!w.success&&(U+=Number(q.pQ)),R(U.toString()),N&&null!==w&&void 0!==w&&w.success&&T({});var F=(0,te.M)({usePermit:W,approvedAmount:{amount:(null===B||void 0===B?void 0:B.toString())||"0",spender:l,token:t,user:y},requiresApproval:N,assetAddress:t,symbol:a,decimals:n,signatureAmount:r,onApprovalTxConfirmed:D,onSignTxCompleted:function(e){return S(e)}}).approval,$=function(){var e=(0,V.Z)(X().mark((function e(){var o,s,i,c,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,I(ye(ye({},j),{},{loading:!0})),s=K.UQ.default,e.next=18;break;case 7:return i=e.sent,e.next=10,h(i);case 10:return i=e.sent,e.next=13,M(i);case 13:return o=e.sent,e.next=16,o.wait(1);case 16:e.next=30;break;case 18:return s=K.UQ.supply,e.next=21,g.supplyWrappedToken((0,ee.parseUnits)(r,n).toString(),l,y);case 21:return c=e.sent,e.next=24,h(c);case 24:return c=e.sent,e.next=27,M(c);case 27:return o=e.sent,e.next=30,o.wait(1);case 30:I({txHash:o.hash,loading:!1,success:!0}),v(o.hash,{action:s,txState:"success",asset:t,amount:r,assetName:a}),P.invalidateQueries({queryKey:ae.B.pool}),P.invalidateQueries({queryKey:ae.B.approvedAmount(y,t,l,b.chainId)}),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(0),u=(0,se.WG)(e.t0,se.aD.GAS_ESTIMATION,!1),E(u),I({txHash:void 0,loading:!1});case 41:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(){return e.apply(this,arguments)}}();return(0,z.jsx)(ie.B,ye({blocked:!1,mainTxState:j,approvalTxState:w,isWrongNetwork:c,requiresAmount:!0,amount:r,symbol:a,preparingTransactions:A||Z,actionText:(0,z.jsx)(o.cC,{id:"Supply {symbol}",values:{symbol:a}}),actionInProgressText:(0,z.jsx)(o.cC,{id:"Supplying {symbol}",values:{symbol:a}}),handleApproval:function(){return F()},handleAction:$,requiresApproval:N,tryPermit:W,sx:d},p))},be=r(83454);function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.CAP_REACHED=0]="CAP_REACHED"}(he||(he={}));var ke=function(e){var t=e.user,r=(0,A.f)().currentMarketData,n=(0,T.P)(),o=(0,C.P)(r).walletBalances,s=(0,j.ov)(),a=s.supplyCap,i=s.debtCeiling,l=e.poolReserve,c=e.userReserve,u=n.find((function(t){return t.tokenOut.underlyingAsset===e.underlyingAsset})),d=u&&"0"!==o[u.tokenIn.underlyingAsset.toLowerCase()].amount,p=t.userReservesData.find((function(e){return e.usageAsCollateralEnabledOnUser&&e.reserve.id!==l.id})),m=!t.isInIsolationMode&&l.isIsolated&&!p&&(!c||"0"===c.underlyingBalance||c.usageAsCollateralEnabledOnUser),f=xe(xe({},e),{},{isolationModeWarning:m?(0,z.jsx)(H.i,{asset:l.symbol}):null,addTokenProps:{address:l.aTokenAddress,symbol:l.iconSymbol,decimals:l.decimals,aToken:!0},collateralType:(0,q.yI)(c,t.totalCollateralUSD,t.isInIsolationMode,i.isMaxed),supplyCapWarning:a.determineWarningDisplay({supplyCap:a}),debtCeilingWarning:i.determineWarningDisplay({debtCeiling:i}),wrappedTokenConfig:n.find((function(t){return t.tokenOut.underlyingAsset===e.underlyingAsset}))});return d?(0,z.jsx)(Ce,xe({},f)):(0,z.jsx)(Se,xe({},f))},Se=s.memo((function(e){var t=e.underlyingAsset,r=e.poolReserve,n=e.isWrongNetwork,a=e.nativeBalance,l=e.tokenBalance,c=e.isolationModeWarning,p=e.addTokenProps,m=e.collateralType,f=e.supplyCapWarning,y=e.debtCeilingWarning,v=e.user,b=(0,L.HT)().marketReferencePriceInUsd,g=(0,A.f)(),k=g.currentMarketData,C=g.currentNetworkConfig,w=(0,i.vR)(),j=w.mainTxState,T=w.gasLimit,q=w.txError,U=(0,O.Y)((function(e){return e.poolComputed.minRemainingBaseTokenBalance})),F=(0,s.useState)(""),H=F[0],V=F[1],Q=t.toLowerCase()===u.hP.toLowerCase(),G=Q?a:l,Y=r.supplyAPY,X=r.supplyCap,K=r.totalLiquidity,J=r.isFrozen,ee=r.decimals,te=r.debtCeiling,re=r.isolationModeTotalDebt,ne=(0,I.I)(G,{supplyCap:X,totalLiquidity:K,isFrozen:J,decimals:ee,debtCeiling:te,isolationModeTotalDebt:re},t,U),oe=new h.Z(H).multipliedBy(r.formattedPriceInMarketReferenceCurrency),se=oe.multipliedBy(b).shiftedBy(-d.$3),ae=H===ne,ie=(0,E.$m)(v,r,oe),le={amountToSupply:H,isWrongNetwork:n,poolAddress:Q?u.hP:r.underlyingAsset,symbol:Q?C.baseAssetSymbol:r.symbol,blocked:!1,decimals:r.decimals,isWrappedBaseAsset:r.isWrappedBaseAsset};return j.success?(0,z.jsx)(N.R,{action:(0,z.jsx)(o.cC,{id:"Supplied"}),amount:H,symbol:Q?C.baseAssetSymbol:r.symbol,addToken:p}):(0,z.jsxs)(z.Fragment,{children:[c,f,y,"AMPL"===r.symbol&&(0,z.jsx)(x.v,{sx:{mt:"16px",mb:"40px"},severity:"warning",children:(0,z.jsx)(S.v,{})}),"true"===be.env.NEXT_PUBLIC_ENABLE_STAKING&&"AAVE"===r.symbol&&R.cr.staking(k)&&(0,z.jsx)($,{}),"SNX"===r.symbol&&"0"!==ne&&(0,z.jsx)(_,{}),(0,z.jsx)(Z.W,{value:H,onChange:function(e){if("-1"===e)V(ne);else{var t=(0,P.$w)(e,r.decimals);V(t)}},usdValue:se.toString(10),symbol:Q?C.baseAssetSymbol:r.symbol,assets:[{balance:ne,symbol:Q?C.baseAssetSymbol:r.symbol,iconSymbol:Q?C.baseAssetSymbol:r.iconSymbol}],capType:B.R.supplyCap,isMaxSelected:ae,disabled:j.loading,maxValue:ne,balanceText:(0,z.jsx)(o.cC,{id:"Wallet balance"}),event:{eventName:M.vh.MAX_INPUT_SELECTION,eventParams:{asset:r.underlyingAsset,assetName:r.name}}}),(0,z.jsxs)(W.m6,{gasLimit:T,skipLoad:!0,disabled:0===Number(H),children:[(0,z.jsx)(W.oD,{description:(0,z.jsx)(o.cC,{id:"Supply APY"}),value:Y,percent:!0}),(0,z.jsx)(W.aE,{incentives:r.aIncentivesData,symbol:r.symbol}),(0,z.jsx)(W.Bx,{collateralType:m}),(0,z.jsx)(W.jz,{visibleHfChange:!!H,healthFactor:v?v.healthFactor:"-1",futureHealthFactor:ie.toString()})]}),q&&(0,z.jsx)(D.Q,{txError:q}),(0,z.jsx)(de,xe({},le))]})})),Ce=function(e){var t=e.poolReserve,r=e.wrappedTokenConfig,n=e.isolationModeWarning,a=e.supplyCapWarning,l=e.debtCeilingWarning,c=e.addTokenProps,u=e.collateralType,m=e.isWrongNetwork,f=e.user,y=(0,L.HT)().marketReferencePriceInUsd,v=(0,A.f)().currentMarketData,b=(0,i.vR)(),g=b.mainTxState,x=b.gasLimit,k=b.txError,S=(0,C.P)(v).walletBalances,j=(0,O.Y)((function(e){return e.poolComputed.minRemainingBaseTokenBalance}));if(!r)throw new Error("Wrapped token config is not defined");var T=S[r.tokenIn.underlyingAsset].amount,R=S[r.tokenOut.underlyingAsset].amount,q=[{balance:T,symbol:r.tokenIn.symbol,iconSymbol:r.tokenIn.symbol,address:r.tokenIn.underlyingAsset}];"0"!==R&&q.unshift({balance:R,symbol:r.tokenOut.symbol,iconSymbol:r.tokenOut.symbol,address:r.tokenOut.underlyingAsset});var U=(0,s.useState)(q[0]),F=U[0],$=U[1],H=(0,s.useState)(""),_=H[0],V=H[1],Q=(0,s.useState)("0"),G=Q[0],Y=Q[1],X=(0,w.E)("1",t.decimals,r.tokenWrapperAddress).data;(0,s.useEffect)((function(){if(X){var e=(0,p.hE)(T).multipliedBy(X).toString();Y(e)}}),[X,T]);var K=t.supplyCap,J=t.totalLiquidity,ee=t.isFrozen,te=t.decimals,re=t.debtCeiling,ne=t.isolationModeTotalDebt,oe=(0,I.I)(R,{supplyCap:K,totalLiquidity:J,isFrozen:ee,decimals:te,debtCeiling:re,isolationModeTotalDebt:ne},t.underlyingAsset,j),se=(0,I.x)(t.supplyCap,t.totalLiquidity),ae=T;(0,h.Z)(G).isGreaterThan(se)&&(ae=(0,h.Z)(se).dividedBy(X||"0").toString(),ae=(0,P.$w)(ae,t.decimals));var ie=!1;r&&(ie=F.address===r.tokenIn.underlyingAsset);var le=new h.Z(_).multipliedBy(ie?r.tokenIn.formattedPriceInMarketReferenceCurrency:t.formattedPriceInMarketReferenceCurrency),ce=le.multipliedBy(y).shiftedBy(-d.$3),ue=_===oe,pe=(0,E.$m)(f,t,le);if(g.success){var me=ie?(0,h.Z)(_).dividedBy(X||"1").toString():_;return(0,z.jsx)(N.R,{action:(0,z.jsx)(o.cC,{id:"Supplied"}),amount:me,symbol:t.symbol,addToken:c})}return(0,z.jsxs)(z.Fragment,{children:[n,a,l,(0,z.jsx)(Z.W,{value:_,onChange:function(e){if("-1"===e)V(ie?ae:oe);else{var r=(0,P.$w)(e,t.decimals);V(r)}},usdValue:ce.toString(10),symbol:F.symbol,assets:q,onSelect:$,capType:B.R.supplyCap,isMaxSelected:ue,disabled:g.loading,balanceText:(0,z.jsx)(o.cC,{id:"Wallet balance"}),event:{eventName:M.vh.MAX_INPUT_SELECTION,eventParams:{asset:t.underlyingAsset,assetName:t.name}},exchangeRateComponent:ie&&(0,z.jsx)(we,{supplyAmount:_,decimals:t.decimals,tokenWrapperAddress:r.tokenWrapperAddress,tokenInSymbol:r.tokenIn.symbol,tokenOutSymbol:r.tokenOut.symbol})}),(0,z.jsxs)(W.m6,{gasLimit:x,skipLoad:!0,disabled:0===Number(_),children:[(0,z.jsx)(W.oD,{description:(0,z.jsx)(o.cC,{id:"Supply APY"}),value:t.supplyAPY,percent:!0}),(0,z.jsx)(W.aE,{incentives:t.aIncentivesData,symbol:t.symbol}),(0,z.jsx)(W.Bx,{collateralType:u}),(0,z.jsx)(W.jz,{visibleHfChange:!!_,healthFactor:f?f.healthFactor:"-1",futureHealthFactor:pe.toString()})]}),k&&(0,z.jsx)(D.Q,{txError:k}),ie?(0,z.jsx)(ve,{tokenWrapperAddress:r.tokenWrapperAddress,tokenIn:r.tokenIn.underlyingAsset,amountToSupply:_,decimals:18,symbol:r.tokenIn.symbol,isWrongNetwork:m}):(0,z.jsx)(de,{isWrongNetwork:m,amountToSupply:_,poolAddress:t.underlyingAsset,symbol:t.symbol,blocked:!1,decimals:t.decimals,isWrappedBaseAsset:!1})]})},we=function(e){var t=e.supplyAmount,r=e.decimals,n=e.tokenInSymbol,o=e.tokenOutSymbol,s=e.tokenWrapperAddress,a=(0,w.v)(t,r,s),i=a.isFetching,l=a.data;return(0,z.jsxs)(m.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,z.jsx)(f.Z,{variant:"caption",children:"Supply amount"}),(0,z.jsx)(g.T1,{sx:{fontSize:"16px"},symbol:"sdai"}),i?(0,z.jsx)(y.Z,{variant:"rectangular",width:80,height:14}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(b.B,{value:l||"",variant:"subheader2",color:"text.primary",visibleDecimals:2}),(0,z.jsx)(f.Z,{variant:"subheader2",color:"text.secondary",children:"sDAI"})]}),(0,z.jsx)(k.G,{children:(0,z.jsx)(v.C,{decimals:r,tokenWrapperAddress:s,tokenInSymbol:n,tokenOutSymbol:o})})]})};function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Te=function(){var e=(0,i.vR)(),t=e.type,r=e.close,n=e.args;return(0,z.jsx)(l.P,{open:t===i.w8.Supply,setOpen:r,children:(0,z.jsx)(c.A,{action:"supply",title:(0,z.jsx)(o.cC,{id:"Supply"}),underlyingAsset:n.underlyingAsset,children:function(e){return(0,z.jsx)(a.X,{children:function(t){return(0,z.jsx)(ke,Ae(Ae({},e),{},{user:t}))}})}})})}},18384:function(e,t,r){r.d(t,{i:function(){return l}});var n=r(49501),o=r(29630),s=r(68861),a=r(69331),i=r(85893),l=function(e){var t=e.asset,r=e.severity;return(0,i.jsxs)(a.v,{severity:r||"info",sx:{mb:3},children:[(0,i.jsx)(o.Z,{variant:"subheader1",mb:.5,children:(0,i.jsx)(n.cC,{id:"You are entering Isolation mode"})}),(0,i.jsx)(o.Z,{children:(0,i.jsx)(n.cC,{id:"In Isolation mode, you cannot supply other assets as collateral. A global debt ceiling limits the borrowing power of the isolated asset. To exit isolation mode disable {0} as collateral before borrowing another asset. Read more in our <0>FAQ</0>",values:{0:t||""},components:{0:(0,i.jsx)(s.rU,{href:"https://docs.aave.com/faq/aave-v3-features#isolation-mode"})}})})]})}},39051:function(e,t,r){r.d(t,{E:function(){return i},v:function(){return l}});var n=r(36492),o=r(2593),s=r(56371),a=r(5991),i=function(e,t,r){var i=(0,a.z)().tokenWrapperService;return(0,n.a)({queryFn:function(){return""===e||"0"===e?Promise.resolve(o.O$.from(0)):i.getTokenInForTokenOut((0,s.parseUnits)(e,t).toString(),r)},queryKey:["tokenInForTokenOut",r,e],select:function(e){return(0,s.formatUnits)(e.toString(),t)}})},l=function(e,t,r){var i=(0,a.z)().tokenWrapperService;return(0,n.a)({queryFn:function(){return""===e||"0"===e?Promise.resolve(o.O$.from(0)):i.getTokenOutForTokenIn((0,s.parseUnits)(e,t).toString(),r)},queryKey:["tokenOutForTokenIn",r,e],select:function(e){return(0,s.formatUnits)(e.toString(),t)}})}},71691:function(e,t,r){r.d(t,{P:function(){return d}});var n=r(59499),o=r(1279),s=r(3439),a=r(78371),i=r(51002),l=r(87385),c=r(46839),u=(0,n.Z)({},i.el.proto_mainnet_v3,[{tokenIn:s.ou.DAI.UNDERLYING.toLowerCase(),tokenOut:s.ou.sDAI.UNDERLYING.toLowerCase(),tokenWrapperContractAddress:s.zq}]),d=function(){var e,t=(0,c.HT)(),r=t.marketReferencePriceInUsd,n=t.marketReferenceCurrencyDecimals,s=t.reserves,i=(0,a.Y)((function(e){return e.currentMarket}));if(!s||0===s.length)return[];return(null!==(e=u[i])&&void 0!==e?e:[]).map((function(e){var t=s.find((function(t){return t.underlyingAsset===e.tokenIn})),a=s.find((function(t){return t.underlyingAsset===e.tokenOut}));if(!t||!a)throw new Error("wrapped token reserves not found");var i=(0,o.Fv)(t.priceInMarketReferenceCurrency,n),c=(0,o.Fv)(a.priceInMarketReferenceCurrency,n);return{tokenIn:{symbol:t.symbol,underlyingAsset:t.underlyingAsset,decimals:t.decimals,priceInUSD:(0,l.N4)(1,i,r).toString(),formattedPriceInMarketReferenceCurrency:i},tokenOut:{symbol:a.symbol,underlyingAsset:a.underlyingAsset,decimals:a.decimals,priceInUSD:(0,l.N4)(1,c,r).toString(),formattedPriceInMarketReferenceCurrency:c},tokenWrapperAddress:e.tokenWrapperContractAddress}}))}},94847:function(e,t,r){r.d(t,{x:function(){return i},I:function(){return l}});var n=r(80854),o=r(1279),s=r(70794),a=r(87385);function i(e,t){return"0"===e?new s.Z(-1):new s.Z(e).minus(t)}function l(e,t,r,l){if(t.isFrozen)return"0";var c=(0,o.hE)(e);return c.gt(0)&&r.toLowerCase()===n.hP.toLowerCase()&&(c=c.minus(l)),"0"!==t.supplyCap&&(c=s.Z.min(c,i(t.supplyCap,t.totalLiquidity))),c.lte(0)?"0":(0,a.$w)(c.toString(10),t.decimals)}},68448:function(e,t,r){r.d(t,{_S:function(){return a},bU:function(){return i},DX:function(){return l},$m:function(){return c}});var n=r(20854),o=r(1279),s=r(70794);function a(e){var t,r=e.fromAmount,s=e.fromAssetData,a=e.fromAssetUserData,i=e.toAmountAfterSlippage,l=e.toAssetData,c=e.user,u=c.isInEmode&&c.userEmodeCategoryId===s.eModeCategoryId?s.formattedEModeLiquidationThreshold:s.formattedReserveLiquidationThreshold,d="0";a.usageAsCollateralEnabledOnUser&&"0"!==s.reserveLiquidationThreshold&&(d=(0,n.L1)({collateralBalanceMarketReferenceCurrency:(0,o.hE)(r).multipliedBy(s.formattedPriceInMarketReferenceCurrency),borrowBalanceMarketReferenceCurrency:c.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:u}).toString());var p="0";return(!c.isInIsolationMode&&!l.isIsolated||c.isInIsolationMode&&(null===(t=c.isolatedReserve)||void 0===t?void 0:t.underlyingAsset)===l.underlyingAsset)&&(p=(0,n.L1)({collateralBalanceMarketReferenceCurrency:(0,o.hE)(i).multipliedBy(l.formattedPriceInMarketReferenceCurrency),borrowBalanceMarketReferenceCurrency:c.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:c.isInEmode&&c.userEmodeCategoryId===l.eModeCategoryId?l.formattedEModeLiquidationThreshold:l.formattedReserveLiquidationThreshold}).toString()),{hfEffectOfFromAmount:d,hfAfterSwap:"-1"===c.healthFactor?(0,o.hE)("-1"):(0,o.hE)(c.healthFactor).plus(p).minus(d)}}var i=function(e){var t=e.user,r=e.amountToReceiveAfterSwap,a=e.amountToSwap,i=e.fromAssetData,l=e.toAssetData,c=e.repayWithUserReserve,u=e.debt,d=t.isInEmode&&t.userEmodeCategoryId===i.eModeCategoryId?i.formattedEModeLiquidationThreshold:i.formattedReserveLiquidationThreshold,p="0";null!==c&&void 0!==c&&c.usageAsCollateralEnabledOnUser&&i.usageAsCollateralEnabled&&(p=(0,n.L1)({collateralBalanceMarketReferenceCurrency:(0,o.hE)(a).multipliedBy(i.formattedPriceInMarketReferenceCurrency),borrowBalanceMarketReferenceCurrency:t.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:d}).toString());var m=(0,o.hE)(s.Z.min(r,u)).multipliedBy(l.priceInUSD).toString(10),f=(0,o.hE)(t.totalBorrowsUSD).minus(m);f=s.Z.max(f,(0,o.hE)("0"));var y=(0,n.L1)({collateralBalanceMarketReferenceCurrency:t.totalCollateralUSD,borrowBalanceMarketReferenceCurrency:f.toString(10),currentLiquidationThreshold:t.currentLiquidationThreshold}),h="0"!==i.reserveLiquidationThreshold&&null!==c&&void 0!==c&&c.usageAsCollateralEnabledOnUser?(0,n.L1)({collateralBalanceMarketReferenceCurrency:(0,o.hE)(a).multipliedBy(i.priceInUSD),borrowBalanceMarketReferenceCurrency:f.toString(10),currentLiquidationThreshold:i.formattedReserveLiquidationThreshold}).toString():"0",v=y.eq(-1)?y:y.minus(h);return{hfEffectOfFromAmount:(0,o.hE)(p),hfAfterSwap:v.isLessThan(0)&&!v.eq(-1)?0:v}},l=function(e){var t=e.user,r=e.userReserve,a=e.poolReserve,i=e.withdrawAmount,l=(0,o.hE)(t.totalCollateralMarketReferenceCurrency),c=t.currentLiquidationThreshold,u=(0,o.hE)(t.healthFactor),d=t.isInEmode&&t.userEmodeCategoryId===a.eModeCategoryId?a.formattedEModeLiquidationThreshold:a.formattedReserveLiquidationThreshold;if(null!==r&&void 0!==r&&r.usageAsCollateralEnabledOnUser&&"0"!==a.reserveLiquidationThreshold){var p=(0,o.hE)(i).multipliedBy(a.formattedPriceInMarketReferenceCurrency);l=l.minus(p),c=(0,o.hE)(t.totalCollateralMarketReferenceCurrency).multipliedBy((0,o.hE)(t.currentLiquidationThreshold)).minus((0,o.hE)(p).multipliedBy(d)).div(l).toFixed(4,s.Z.ROUND_DOWN),u=(0,n.L1)({collateralBalanceMarketReferenceCurrency:l,borrowBalanceMarketReferenceCurrency:t.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:c})}return u},c=function(e,t,r){var s,a=e?(0,o.hE)(e.healthFactor):"-1",i=e?(0,o.hE)(e.totalCollateralMarketReferenceCurrency).plus(r):"-1",l=e?(0,o.hE)(e.totalCollateralMarketReferenceCurrency).multipliedBy(e.currentLiquidationThreshold).plus(r.multipliedBy(t.formattedReserveLiquidationThreshold)).dividedBy(i):"-1";return e&&(!e.isInIsolationMode&&!t.isIsolated||e.isInIsolationMode&&(null===(s=e.isolatedReserve)||void 0===s?void 0:s.underlyingAsset)===t.underlyingAsset)&&(a=(0,n.L1)({collateralBalanceMarketReferenceCurrency:i,borrowBalanceMarketReferenceCurrency:(0,o.hE)(e.totalBorrowsMarketReferenceCurrency),currentLiquidationThreshold:l})),a}},64343:function(e,t,r){var n=r(67294);const o=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}))}));t.Z=o},80227:function(e,t,r){var n=r(67294);const o=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}))}));t.Z=o},7687:function(e,t,r){r.d(t,{r:function(){return d}});var n=r(67294),o=r(464),s=r(30081),a=r(91784),i=r(85945),l=r(37122),c=r(91670),u=r(38381);function d(e,t){const r=(0,i.NL)({context:e.context}),d=(0,l.S)(),p=(0,a._)(),m=r.defaultQueryOptions(e);m._optimisticResults=d?"isRestoring":"optimistic",m.onError&&(m.onError=s.V.batchCalls(m.onError)),m.onSuccess&&(m.onSuccess=s.V.batchCalls(m.onSuccess)),m.onSettled&&(m.onSettled=s.V.batchCalls(m.onSettled)),(0,u.Fb)(m),(0,c.pf)(m,p),(0,c.JN)(p);const[f]=n.useState((()=>new t(r,m))),y=f.getOptimisticResult(m);if((0,o.$)(n.useCallback((e=>d?()=>{}:f.subscribe(s.V.batchCalls(e))),[f,d]),(()=>f.getCurrentResult()),(()=>f.getCurrentResult())),n.useEffect((()=>{f.setOptions(m,{listeners:!1})}),[m,f]),(0,u.SB)(m,y,d))throw(0,u.j8)(m,f,p);if((0,c.KJ)({result:y,errorResetBoundary:p,useErrorBoundary:m.useErrorBoundary,query:f.getCurrentQuery()}))throw y.error;return m.notifyOnChangeProps?y:f.trackResult(y)}},36492:function(e,t,r){r.d(t,{a:function(){return a}});var n=r(32161),o=r(52924),s=r(7687);function a(e,t,r){const a=(0,n._v)(e,t,r);return(0,s.r)(a,o.z)}},83618:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(14666),o=r(28811),s=r(2937),a=r(14882);function i(e){return(0,n.Z)(e)||(0,o.Z)(e)||(0,s.Z)(e)||(0,a.Z)()}},25043:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(67294),o=Object.defineProperty,s=(e,t,r)=>(((e,t,r)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);const a=(e,t)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(t):e.style.getPropertyValue(t),i=e=>a(e,"overflow")+a(e,"overflow-y")+a(e,"overflow-x");class l extends n.Component{constructor(e){super(e),s(this,"elementObserver"),s(this,"wrapper"),s(this,"lazyLoadHandler",(e=>{var t,r;const{onContentVisible:n}=this.props,[o]=e,{isIntersecting:s}=o;if(s){this.setState({visible:!0},(()=>{n&&n()}));const e=null==(t=this.wrapper)?void 0:t.current;e&&e instanceof HTMLElement&&(null==(r=this.elementObserver)||r.unobserve(e))}})),this.elementObserver=null,this.wrapper=n.createRef(),this.state={visible:!1}}componentDidMount(){var e;this.getEventNode();const{offset:t,threshold:r}=this.props,n={rootMargin:"number"==typeof t?`${t}px`:t||"0px",threshold:r||0};this.elementObserver=new IntersectionObserver(this.lazyLoadHandler,n);const o=null==(e=this.wrapper)?void 0:e.current;o instanceof HTMLElement&&this.elementObserver.observe(o)}shouldComponentUpdate(e,t){return t.visible}componentWillUnmount(){var e,t;const r=null==(e=this.wrapper)?void 0:e.current;r&&r instanceof HTMLElement&&(null==(t=this.elementObserver)||t.unobserve(r))}getEventNode(){var e;return(e=>{if(!(e instanceof HTMLElement))return window;let t=e;for(;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(i(t)))return t;t=t.parentNode}return window})(null==(e=this.wrapper)?void 0:e.current)}render(){const{children:e,className:t,height:r,width:o,elementType:s}=this.props,{visible:a}=this.state,i={height:r,width:o},l=`LazyLoad${a?" is-visible":""}${t?` ${t}`:""}`;return(0,n.createElement)(s||"div",{className:l,style:i,ref:this.wrapper},a&&n.Children.only(e))}}s(l,"defaultProps",{elementType:"div",className:"",offset:0,threshold:0,width:null,onContentVisible:null,height:null})}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4423],{50020:function(e,t,r){var n=r(59499),o=r(4730),a=r(91655),i=r(61953),s=r(29630),l=(r(67294),r(46839)),c=r(41024),u=r(85893),d=["minVal","maxVal","percentVariant","hyphenVariant"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.minVal,r=e.maxVal,n=e.percentVariant,p=e.hyphenVariant,m=(0,o.Z)(e,d),v=(0,l.HT)(),b=v.ghoLoadingData,h=v.ghoReserveData;if(b)return(0,u.jsx)(a.Z,{width:70,height:24});var y=null!==t&&void 0!==t?t:h.ghoBorrowAPYWithMaxDiscount,f=null!==r&&void 0!==r?r:h.ghoVariableBorrowAPY,g=Number((100*y).toFixed(2))===Number((100*f).toFixed(2));return(0,u.jsx)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:g?(0,u.jsx)(c.B,x({compact:!0,percent:!0,value:y,visibleDecimals:2,variant:null!==n&&void 0!==n?n:"h3","data-cy":"apy"},m)):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.B,x({compact:!0,value:100*y,visibleDecimals:2,variant:null!==n&&void 0!==n?n:"h3","data-cy":"apy-gho-from"},m)),(0,u.jsx)(s.Z,{variant:null!==p&&void 0!==p?p:"secondary16",color:"text.secondary",sx:{mx:.5},children:"-"}),(0,u.jsx)(c.B,x({compact:!0,percent:!0,value:f,visibleDecimals:2,variant:null!==n&&void 0!==n?n:"h3","data-cy":"apy-gho-till"},m))]})})}},99552:function(e,t,r){r.d(t,{B:function(){return b}});var n=r(90116),o=r(49501),a=r(61953),i=r(29630),s=r(72389),l=r(46839),c=r(91874),u=r(50020),d=r(41024),p=r(68861),x=r(14463),m=r(72667),v=r(85893),b=function(e){var t=e.value,r=e.useApyRange,b=e.rangeValues,h=void 0===b?[0,0]:b,y=e.ghoRoute,f=e.stkAaveBalance,g=e.userQualifiesForDiscount,j=e.onMoreDetailsClick,A=e.withTokenIcon,w=void 0!==A&&A,S=e.forceShowTooltip,D=void 0!==S&&S,T=e.variant,O=void 0===T?"secondary14":T,B=e.color,Z=void 0===B?void 0:B,k=(0,l.HT)().ghoReserveData,I=Number(f),E=I>=k.ghoMinDiscountTokenBalanceForDiscount,C=(0,v.jsx)(v.Fragment,{}),P=g||D;return P&&(C=(0,v.jsx)(a.Z,{sx:{py:4,px:6,fontSize:"12px",lineHeight:"16px",a:{fontSize:"12px",lineHeight:"16px",fontWeight:500}},children:(0,v.jsxs)(i.Z,{variant:"subheader2",children:[(0,v.jsx)(o.cC,{id:"Estimated compounding interest, including discount for Staking {0}AAVE in Safety Module.",values:{0:E?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.B,{variant:"subheader2",value:I,visibleDecimals:2})," "]}):null}})," ",(0,v.jsx)(p.rU,{onClick:j,href:y,underline:"always",variant:"subheader2",children:(0,v.jsx)(o.cC,{id:"Learn more"})})]})})),(0,v.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"flex-end",xsm:"center"},justifyContent:"center",textAlign:"center",flex:"2 1 auto"},children:"-1"!==t.toString()?(0,v.jsx)(s.Z,{enterTouchDelay:0,leaveTouchDelay:0,placement:"top",title:C,arrow:P,PopperComponent:c.E,children:(0,v.jsxs)(a.Z,{sx:function(){return{display:"flex",alignItems:"center"}},children:[w&&(0,v.jsx)(m.T1,{symbol:"stkAAVE",sx:{height:14,width:14,mr:1}}),r?(0,v.jsx)(u.Z,{percentVariant:O,hyphenVariant:O,minVal:Math.min.apply(Math,(0,n.Z)(h)),maxVal:Math.max.apply(Math,(0,n.Z)(h)),color:Z}):(0,v.jsx)(d.B,{value:t,percent:!0,variant:O,color:Z,"data-cy":"apy"})]})}):(0,v.jsx)(x.J,{variant:"secondary14",color:"text.secondary"})})}},14463:function(e,t,r){r.d(t,{J:function(){return l}});var n=r(59499),o=r(29630),a=(r(67294),r(85893));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e){return(0,a.jsx)(o.Z,s(s({},e),{},{children:"\u2014"}))}},53601:function(e,t,r){r.d(t,{l:function(){return B},W:function(){return Z}});var n=r(59499),o=r(4730),a=r(49501),i=r(33740),s=r(62097),l=r(61953),c=r(29630),u=r(90149),d=r(81011),p=r(80562),x=r(55343),m=r(46541),v=r(31538),b=r(61702),h=r(75084),y=r(67294),f=r(57333),g=r(78371),j=r(25049),A=r(41024),w=r(72667),S=r(85893),D=["onChange"];function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=y.forwardRef((function(e,t){var r=e.onChange,n=(0,o.Z)(e,D);return(0,S.jsx)(f.Z,O(O({},n),{},{getInputRef:t,onValueChange:function(t){t.value!==e.value&&r({target:{name:e.name,value:t.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),Z=function(e){var t=e.value,r=e.usdValue,n=e.symbol,o=e.onChange,y=e.disabled,f=e.disableInput,D=e.onSelect,T=e.assets,Z=e.capType,k=e.maxValue,I=e.isMaxSelected,E=e.inputTitle,C=e.balanceText,P=e.loading,R=void 0!==P&&P,M=e.event,N=e.selectOptionHeader,L=e.selectOption,_=e.sx,F=void 0===_?{}:_,U=e.exchangeRateComponent,Y=(0,s.Z)(),V=(0,g.Y)((function(e){return e.trackEvent})),z=1===T.length?T[0]:T&&T.find((function(e){return e.symbol===n}));return(0,S.jsxs)(l.Z,O(O({},F),{},{children:[(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,S.jsx)(c.Z,{color:"text.secondary",children:E||(0,S.jsx)(a.cC,{id:"Amount"})}),Z&&(0,S.jsx)(j.Y,{capType:Z})]}),(0,S.jsxs)(l.Z,{sx:function(e){return{border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",overflow:"hidden"}},children:[(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:.5,px:3,py:2},children:[R?(0,S.jsx)(l.Z,{sx:{flex:1},children:(0,S.jsx)(u.Z,{color:"inherit",size:"16px"})}):(0,S.jsx)(d.ZP,{sx:{flex:1},placeholder:"0.00",disabled:y||f,value:t,autoFocus:!0,onChange:function(e){o&&(Number(e.target.value)>Number(k)?o("-1"):o(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:B}),""!==t&&!f&&(0,S.jsx)(p.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){o&&o("")},disabled:y,children:(0,S.jsx)(i.Z,{height:16})}),D&&1!==T.length?(0,S.jsx)(x.Z,{children:(0,S.jsxs)(m.Z,{disabled:y,value:z.symbol,onChange:function(e){var t=T.find((function(t){return t.symbol===e.target.value}));D&&D(t),o&&o("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===Y.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var t=1===T.length?T[0]:T&&T.find((function(t){return t.symbol===e}));return(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(t.symbol.toUpperCase()),children:[(0,S.jsx)(w.T1,{symbol:t.iconSymbol||t.symbol,aToken:t.aToken,sx:{mr:2,ml:4}}),(0,S.jsx)(c.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[N||void 0,T.map((function(e){return(0,S.jsx)(v.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:L?L(e):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(w.T1,{aToken:e.aToken,symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,S.jsx)(b.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,S.jsx)(A.B,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,S.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,S.jsx)(w.T1,{aToken:z.aToken,symbol:z.iconSymbol||z.symbol,sx:{mr:2,ml:4}}),(0,S.jsx)(c.Z,{variant:"h3",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:n})]})]}),(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",height:"16px",px:3,py:2,mb:1},children:[R?(0,S.jsx)(l.Z,{sx:{flex:1}}):(0,S.jsx)(A.B,{value:isNaN(Number(r))?0:Number(r),compact:!0,symbol:"USD",variant:"secondary12",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),z.balance&&o&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(c.Z,{component:"div",variant:"secondary12",color:"text.secondary",children:[C&&""!==C?C:(0,S.jsx)(a.cC,{id:"Balance"})," ",(0,S.jsx)(A.B,{value:z.balance,compact:!0,variant:"secondary12",color:"text.secondary",symbolsColor:"text.disabled"})]}),!f&&(0,S.jsx)(h.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0},onClick:function(){M&&V(M.eventName,O({},M.eventParams)),o("-1")},disabled:y||I,children:(0,S.jsx)(a.cC,{id:"Max"})})]})]}),U&&(0,S.jsx)(l.Z,{sx:{background:Y.palette.background.surface,borderTop:"1px solid ".concat(Y.palette.divider),px:3,py:2},children:U})]})]}))}},54423:function(e,t,r){r.r(t),r.d(t,{DebtSwitchModal:function(){return ke}});var n=r(59499),o=r(49501),a=r(67294),i=r(31959),s=r(47130),l=r(8195),c=r(94635),u=r(90116),d=r(75331),p=r(1279),x=r(21046),m=r(52358),v=r(80227),b=r(9144),h=r(29630),y=r(81645),f=r(61953),g=r(63366),j=r(87462),A=r(86010),w=r(94780),S=r(81719),D=r(78884),T=r(36622),O=r(34867);function B(e){return(0,O.Z)("MuiListSubheader",e)}(0,r(1588).Z)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var Z=r(85893);const k=["className","color","component","disableGutters","disableSticky","inset"],I=(0,S.ZP)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"default"!==r.color&&t[`color${(0,T.Z)(r.color)}`],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})((({theme:e,ownerState:t})=>(0,j.Z)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===t.color&&{color:(e.vars||e).palette.primary.main},"inherit"===t.color&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})));var E=a.forwardRef((function(e,t){const r=(0,D.Z)({props:e,name:"MuiListSubheader"}),{className:n,color:o="default",component:a="li",disableGutters:i=!1,disableSticky:s=!1,inset:l=!1}=r,c=(0,g.Z)(r,k),u=(0,j.Z)({},r,{color:o,component:a,disableGutters:i,disableSticky:s,inset:l}),d=(e=>{const{classes:t,color:r,disableGutters:n,inset:o,disableSticky:a}=e,i={root:["root","default"!==r&&`color${(0,T.Z)(r)}`,!n&&"gutters",o&&"inset",!a&&"sticky"]};return(0,w.Z)(i,B,t)})(u);return(0,Z.jsx)(I,(0,j.Z)({as:a,className:(0,A.default)(d.root,n),ref:t,ownerState:u},c))})),C=r(61702),P=r(70794),R=r(99552),M=r(25935),N=r(41024),L=r(68861),_=r(72667),F=r(69331),U=r(53601),Y=r(20644),V=r(74119),z=r(50029),H=r(87794),W=r.n(H),G=r(73030),q=r(3622),Q=r(77537),$=r(20301),K=r(78371),X=r(59286),J=r(69125),ee=r(46839),te=r(93608),re=r(99730),ne=r(17674),oe=r(80854),ae=r(85945),ie=r(56371),se=r(89291),le=r(32113),ce=r(39771),ue=r(31001),de=r(67489),pe=r(94671);function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ve,be=function(e){var t=e.amountToSwap,r=e.amountToReceive,n=e.isWrongNetwork,i=e.sx,s=e.poolReserve,c=e.targetReserve,u=e.isMaxSelected,p=e.loading,x=e.blocked,m=e.buildTxFn,v=e.currentRateMode,b=(0,K.Y)((function(e){return[e.getCreditDelegationApprovedAmount,e.currentMarketData,e.generateApproveDelegation,e.estimateGasLimit,e.addTransaction,e.debtSwitch,e.walletApprovalMethodPreference,e.generateCreditDelegationSignatureRequest]})),h=(0,ne.Z)(b,8),y=h[0],f=h[1],g=h[2],j=h[3],A=h[4],w=h[5],S=h[6],D=h[7],T=(0,l.vR)(),O=T.approvalTxState,B=T.mainTxState,k=T.loadingTxns,I=T.setMainTxState,E=T.setTxError,C=T.setGasLimit,P=T.setLoadingTxns,R=T.setApprovalTxState,M=(0,Q.Z)(),N=M.sendTx,L=M.signTxData,_=(0,ae.NL)(),F=(0,a.useState)(!1),U=F[0],Y=F[1],H=(0,a.useState)(),G=H[0],q=H[1],$=(0,a.useState)(!1),X=$[0],J=$[1],ee=(0,a.useState)(),te=ee[0],re=ee[1],xe=f.v3;(0,a.useEffect)((function(){var e=S===le.n.PERMIT;J(e)}),[S]);var ve=function(){var e=(0,z.Z)(W().mark((function e(){var t,n,o,a,i,s,l,u,p;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!U||!G){e.next=29;break}if(t=(0,V.sm)(r,c.decimals,.25),!X||!xe){e.next=15;break}return o=Math.floor(Date.now()/1e3+3600).toString(),e.next=7,D({underlyingAsset:c.variableDebtTokenAddress,deadline:o,amount:t,spender:null!==(n=f.addresses.DEBT_SWITCH_ADAPTER)&&void 0!==n?n:""});case 7:return a=e.sent,e.next=10,L(a);case 10:i=e.sent,re({signature:i,deadline:o,amount:t}),R({txHash:se.Z,loading:!1,success:!0}),e.next=29;break;case 15:return l=g({debtTokenAddress:c.variableDebtTokenAddress,delegatee:null!==(s=f.addresses.DEBT_SWITCH_ADAPTER)&&void 0!==s?s:"",amount:t}),R(me(me({},O),{},{loading:!0})),e.next=19,j(l);case 19:return l=e.sent,e.next=22,N(l);case 22:return u=e.sent,e.next=25,u.wait(1);case 25:R({txHash:u.hash,loading:!1,success:!0}),A(u.hash,{action:d.UQ.approval,txState:"success",asset:c.variableDebtTokenAddress,amount:t,assetName:"varDebt"+c.name,spender:f.addresses.DEBT_SWITCH_ADAPTER}),E(void 0),he(!0);case 29:e.next=36;break;case 31:e.prev=31,e.t0=e.catch(0),p=(0,ce.WG)(e.t0,ce.aD.GAS_ESTIMATION,!1),E(p),O.success||R({txHash:void 0,loading:!1});case 36:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=(0,z.Z)(W().mark((function e(){var o,a,i,l;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(me(me({},B),{},{loading:!0})),e.next=4,m();case 4:return o=e.sent,a=w({poolReserve:s,targetReserve:c,currentRateMode:v,amountToReceive:(0,ie.parseUnits)(r,c.decimals).toString(),amountToSwap:(0,ie.parseUnits)(t,s.decimals).toString(),isMaxSelected:u,txCalldata:o.swapCallData,augustus:o.augustus,signatureParams:te,isWrongNetwork:n}),e.next=8,j(a);case 8:return a=e.sent,e.next=11,N(a);case 11:return i=e.sent,e.next=14,i.wait(1);case 14:I({txHash:i.hash,loading:!1,success:!0}),A(i.hash,{action:"debtSwitch",txState:"success",previousState:o.outputAmount+(2===v?" variable"+s.symbol:" stable"+s.symbol),newState:o.inputAmount+" variable"+c.symbol}),_.invalidateQueries({queryKey:ue.B.pool}),_.invalidateQueries({queryKey:ue.B.gho}),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),l=(0,ce.WG)(e.t0,ce.aD.GAS_ESTIMATION,!1),E(l),I({txHash:void 0,loading:!1});case 25:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),he=(0,a.useCallback)(function(){var e=(0,z.Z)(W().mark((function e(t){var n,o,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=G)&&!t){e.next=9;break}return P(!0),e.next=5,y({debtTokenAddress:c.variableDebtTokenAddress,delegatee:null!==(o=f.addresses.DEBT_SWITCH_ADAPTER)&&void 0!==o?o:""});case 5:n=e.sent,q(n),e.next=11;break;case 9:Y(!1),R({});case 11:n&&(a=(0,pe.iv)({approvedAmount:n.amount,amount:r,signedAmount:"0"}),Y(a),a&&R({})),P(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[G,P,y,c.variableDebtTokenAddress,f.addresses.DEBT_SWITCH_ADAPTER,R,r]);return(0,a.useEffect)((function(){"0"!==t&&(G?G.debtTokenAddress!==c.variableDebtTokenAddress&&he(!0):he())}),[t,G,he,c.variableDebtTokenAddress]),(0,a.useEffect)((function(){var e=0;e=Number(oe.eB[d.UQ.borrow].recommended),U&&!O.success&&(e+=Number(pe.Fi)),C(e.toString())}),[U,O,C]),(0,Z.jsx)(de.B,{mainTxState:B,approvalTxState:O,isWrongNetwork:n,preparingTransactions:k,handleAction:be,requiresAmount:!0,amount:t,handleApproval:function(){return ve()},requiresApproval:U,actionText:(0,Z.jsx)(o.cC,{id:"Switch"}),actionInProgressText:(0,Z.jsx)(o.cC,{id:"Switching"}),sx:i,fetchingData:p,errorParams:{loading:!1,disabled:x||!(null!==O&&void 0!==O&&O.success),content:(0,Z.jsx)(o.cC,{id:"Switch"}),handleClick:be},blocked:x,tryPermit:xe})},he=r(91655),ye=r(92391),fe=r(58527),ge=(0,Z.jsx)(y.Z,{color:"primary",sx:{fontSize:"14px",mx:1},children:(0,Z.jsx)(v.Z,{})}),je=function(e){var t,r,n=e.switchSource,a=e.switchTarget,i=e.toAmount,s=e.fromAmount,l=e.loading,c=e.sourceBalance,u=e.sourceBorrowAPY,d=e.targetBorrowAPY,x=e.showAPYTypeChange,m=e.ghoData,g=e.currentMarket,j=(0,p.hE)(c).minus((0,p.hE)(s)),A=(0,p.hE)(a.variableBorrows).plus((0,p.hE)(i)),w=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(he.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}),(0,Z.jsx)(he.Z,{variant:"rectangular",height:15,width:80,sx:{borderRadius:"4px",marginTop:"4px"}})]}),S=0,D=null===m||void 0===m?void 0:m.ghoApyRange;return"GHO"===a.reserve.symbol&&m&&(S=(0,J.li)(m.ghoVariableBorrowApy,m.userCurrentBorrowBalance+m.inputAmount,m.userGhoAvailableToBorrowAtDiscount,m.ghoBorrowAPYWithMaxDiscount),D&&(D=[D[0],S])),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(ye.X,{caption:(0,Z.jsx)(o.cC,{id:"Borrow apy"}),captionVariant:"description",mb:4,children:(0,Z.jsx)(f.Z,{sx:{display:"flex",alignItems:"center"},children:l?(0,Z.jsx)(he.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}):(0,Z.jsxs)(Z.Fragment,{children:[(0,J.F$)({symbol:n.reserve.symbol,currentMarket:g})&&m?(0,Z.jsx)(R.B,{useApyRange:!1,rangeValues:m.ghoApyRange,variant:"main14",color:"text.secondary",value:m.userCurrentBorrowApy,"data-cy":"apyType",stkAaveBalance:m.userDiscountTokenBalance,ghoRoute:L.Z6.reserveOverview(null!==(t=n.underlyingAsset)&&void 0!==t?t:"",g)+"/#discount",forceShowTooltip:!0,withTokenIcon:m.qualifiesForDiscount,userQualifiesForDiscount:m.qualifiesForDiscount}):(0,Z.jsx)(N.B,{value:u,variant:"secondary14",percent:!0}),ge,(0,J.F$)({symbol:a.reserve.symbol,currentMarket:g})&&m?(0,Z.jsx)(R.B,{useApyRange:m.qualifiesForDiscount&&!m.inputAmount,rangeValues:0===m.inputAmount?m.ghoApyRange:D,variant:"main14",color:"text.secondary",value:0===m.inputAmount?m.userBorrowApyAfterMaxSwitch:S,"data-cy":"apyType",stkAaveBalance:m.userDiscountTokenBalance,ghoRoute:L.Z6.reserveOverview(null!==(r=a.underlyingAsset)&&void 0!==r?r:"",g)+"/#discount",forceShowTooltip:!0,withTokenIcon:m.qualifiesForDiscount,userQualifiesForDiscount:m.qualifiesForDiscount}):(0,Z.jsx)(N.B,{value:d,variant:"secondary14",percent:!0})]})})}),x&&(0,Z.jsx)(ye.X,{caption:(0,Z.jsxs)(b.Z,{direction:"row",children:[(0,Z.jsx)(o.cC,{id:"APY type"}),(0,Z.jsx)(fe.G,{children:(0,Z.jsx)(o.cC,{id:"You can only switch to tokens with variable APY types. After this transaction, you may change the variable rate to a stable one if available."})})]}),captionVariant:"description",mb:4,children:(0,Z.jsx)(f.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"flex-end"},children:l?(0,Z.jsx)(he.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}):(0,Z.jsxs)(f.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(h.Z,{variant:"secondary14",children:(0,Z.jsx)(o.cC,{id:"Stable"})}),(0,Z.jsx)(y.Z,{color:"primary",sx:{fontSize:"14px",mx:1},children:(0,Z.jsx)(v.Z,{})}),(0,Z.jsx)(h.Z,{variant:"secondary14",children:(0,Z.jsx)(o.cC,{id:"Variable"})})]})})}),(0,Z.jsx)(Y.aE,{incentives:n.reserve.aIncentivesData,symbol:n.reserve.symbol,futureIncentives:n.reserve.aIncentivesData,futureSymbol:n.reserve.symbol,loading:l}),(0,Z.jsx)(ye.X,{caption:(0,Z.jsx)(o.cC,{id:"Borrow balance after switch"}),captionVariant:"description",mb:4,align:"flex-start",children:(0,Z.jsxs)(f.Z,{sx:{textAlign:"right"},children:[(0,Z.jsx)(f.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},children:l?w:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(f.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(_.T1,{symbol:n.reserve.iconSymbol,sx:{mr:2,ml:4,fontSize:"16px"}}),(0,Z.jsx)(N.B,{value:j.toString(),variant:"secondary14",compact:!0})]}),(0,Z.jsx)(N.B,{value:j.multipliedBy((0,p.hE)(n.reserve.priceInUSD)).toString(),variant:"helperText",compact:!0,symbol:"USD",symbolsColor:"text.secondary",color:"text.secondary"})]})}),(0,Z.jsx)(f.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},mt:2,children:l?w:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(f.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(_.T1,{symbol:a.reserve.iconSymbol,sx:{mr:2,ml:4,fontSize:"16px"}}),(0,Z.jsx)(N.B,{value:A.toString(),variant:"secondary14",compact:!0})]}),(0,Z.jsx)(N.B,{value:A.multipliedBy((0,p.hE)(a.reserve.priceInUSD)).toString(),variant:"helperText",compact:!0,symbol:"USD",symbolsColor:"text.secondary",color:"text.secondary"})]})})]})})]})};function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.INSUFFICIENT_LIQUIDITY=0]="INSUFFICIENT_LIQUIDITY"}(ve||(ve={}));var Se=function(e){var t=e.poolReserve,r=e.userReserve,n=e.isWrongNetwork,i=e.currentRateMode,s=e.user,c=(0,ee.HT)(),g=c.reserves,j=c.ghoReserveData,A=c.ghoUserData,w=c.ghoUserLoadingData,S=(0,K.Y)((function(e){return e.currentChainId})),D=(0,K.Y)((function(e){return e.currentNetworkConfig})),T=(0,Q.Z)().currentAccount,O=(0,l.vR)(),B=O.gasLimit,k=O.mainTxState,I=O.txError,E=O.setTxError,C=(0,K.Y)((function(e){return e.currentMarket})),R=(0,K.Y)((function(e){return e.currentMarketData})),L=(0,q.l)(R).data,H=(0,G.b)(R).data,ne=g.filter((function(e){return e.underlyingAsset!==t.underlyingAsset&&"0"!==e.availableLiquidity&&(0,X.hF)(e,s)})).map((function(e){return{address:e.underlyingAsset,symbol:e.symbol,iconSymbol:e.iconSymbol,variableApy:e.variableBorrowAPY,priceInUsd:e.priceInUSD,decimals:e.decimals}}));ne=[].concat((0,u.Z)(ne.filter((function(e){return"GHO"===e.symbol}))),(0,u.Z)(ne.filter((function(e){return"GHO"!==e.symbol}))));var oe=(0,a.useState)(""),ae=oe[0],ie=oe[1],se=(0,a.useRef)(""),le=(0,a.useState)(ne[0]),ce=le[0],ue=le[1],de=(0,a.useState)("0.1"),pe=de[0],xe=de[1],me=s.userReservesData.find((function(e){return e.underlyingAsset===ce.address})),he=i===d.tk.Variable?r.variableBorrows:r.stableBorrows,ye="-1"===ae,fe=ye?he:ae,ge=function(e){var t=e.chainId,r=e.max,n=e.maxSlippage,o=e.skip,i=e.swapIn,s=e.swapOut,l=e.userAddress,c=(0,a.useState)("0"),u=c[0],d=c[1],x=(0,a.useState)("0"),m=x[0],v=x[1],b=(0,a.useState)("0"),h=b[0],y=b[1],f=(0,a.useState)("0"),g=f[0],j=f[1],A=(0,a.useState)(),w=A[0],S=A[1],D=(0,a.useState)(!1),T=D[0],O=D[1],B=(0,a.useState)(""),Z=B[0],k=B[1],I=(0,a.useMemo)((function(){return{underlyingAsset:i.underlyingAsset,decimals:i.decimals,supplyAPY:i.supplyAPY,amount:i.amount,variableBorrowAPY:i.variableBorrowAPY}}),[i.amount,i.decimals,i.supplyAPY,i.underlyingAsset,i.variableBorrowAPY]),E=(0,a.useMemo)((function(){return{underlyingAsset:s.underlyingAsset,decimals:s.decimals,supplyAPY:s.supplyAPY,amount:s.amount,variableBorrowAPY:s.variableBorrowAPY}}),[s.amount,s.decimals,s.supplyAPY,s.underlyingAsset,s.variableBorrowAPY]),C=(0,a.useCallback)((function(){return(0,V.wP)(I,E,t,l,r)}),[t,r,I,E,l]);return(0,a.useEffect)((function(){if(!o){var e=function(){var e=(0,z.Z)(W().mark((function e(){var t,r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.underlyingAsset&&E.underlyingAsset&&E.amount&&"0"!==E.amount&&!isNaN(+E.amount)){e.next=7;break}return d("0"),v("0"),y("0"),j("0"),S(void 0),e.abrupt("return");case 7:return O(!0),e.prev=8,e.next=11,C();case 11:t=e.sent,k(""),S(t),d((0,p.Fv)(t.srcAmount,t.srcDecimals)),y((0,p.Fv)(t.destAmount,t.destDecimals)),v(t.srcUSD),j(t.destUSD),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(8),console.error(e.t0),r=(0,V.aE)(e.t0.message),k(r);case 25:return e.prev=25,O(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[8,20,25,28]])})));return function(){return e.apply(this,arguments)}}(),t=setTimeout((function(){e()}),400);return function(){clearTimeout(t)}}}),[o,I.underlyingAsset,I.amount,E.underlyingAsset,E.amount,C,n]),{outputAmount:h,outputAmountUSD:g,inputAmount:u,inputAmountUSD:m,loading:T,error:Z,buildTxFn:function(){var e=(0,z.Z)(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}throw new Error("Route required to build transaction");case 2:return e.abrupt("return",(0,V._n)(w,i,s,t,l,n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}({chainId:D.underlyingChainId||S,userAddress:T,swapOut:we(we({},t),{},{amount:se.current}),swapIn:we(we({},me.reserve),{},{amount:"0"}),max:ye,skip:k.loading||!1,maxSlippage:Number(pe)}),Ae=ge.inputAmount,Se=ge.outputAmount,Be=ge.outputAmountUSD,Ze=ge.error,ke=ge.loading,Ie=ge.buildTxFn,Ee=ke&&"0"===Be,Ce=(0,p.hE)(x.Bz.toString()),Pe="0";(0,J.F$)({symbol:me.reserve.symbol,currentMarket:C})?Pe=j.aaveFacilitatorRemainingCapacity.toString():(Ce="0"===me.reserve.borrowCap?(0,p.hE)(x.Bz.toString()):(0,p.hE)(Number(me.reserve.borrowCap)).minus((0,p.hE)(me.reserve.totalDebt)),Pe=me.reserve.formattedAvailableLiquidity);var Re=P.Z.max(P.Z.min(Pe,Ce),0),Me=Number(fe)*Number(t.priceInUSD),Ne=Number(Ae)*Number(ce.priceInUsd),Le=Ne-Me,_e=0===Number(s.availableBorrowsUSD)||Le>Number(s.availableBorrowsUSD),Fe=void 0;(0,P.Z)(Ae).gt(Re)&&(Fe=ve.INSUFFICIENT_LIQUIDITY);var Ue=function(){return Fe===ve.INSUFFICIENT_LIQUIDITY?(0,Z.jsx)(o.cC,{id:"There is not enough liquidity for the target asset to perform the switch. Try lowering the amount."}):null},Ye=(0,V.LN)(Ae,pe,ce.decimals||18);if(k.success)return(0,Z.jsx)(te.R,{customAction:(0,Z.jsxs)(b.Z,{gap:3,children:[(0,Z.jsx)(h.Z,{variant:"description",color:"text.primary",children:(0,Z.jsx)(o.cC,{id:"You've successfully switched borrow position."})}),(0,Z.jsxs)(b.Z,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,children:[(0,Z.jsx)(_.T1,{symbol:t.iconSymbol,sx:{mx:1}}),(0,Z.jsx)(N.B,{value:se.current,compact:!0,variant:"subheader1"}),t.symbol,(0,Z.jsx)(y.Z,{color:"primary",sx:{fontSize:"14px",mx:1},children:(0,Z.jsx)(v.Z,{})}),(0,Z.jsx)(_.T1,{symbol:me.reserve.iconSymbol,sx:{mx:1}}),(0,Z.jsx)(N.B,{value:Ye,compact:!0,variant:"subheader1"}),me.reserve.symbol]})]})});var Ve,ze=!1;if(g.some((function(e){return"GHO"===e.symbol}))){var He=Number(he)*Number(t.priceInUSD)+A.userGhoBorrowBalance,We=(0,J.li)(j.ghoVariableBorrowAPY,A.userGhoBorrowBalance,A.userGhoAvailableToBorrowAtDiscount,j.ghoBorrowAPYWithMaxDiscount),Ge=(0,J.li)(j.ghoVariableBorrowAPY,He,A.userGhoAvailableToBorrowAtDiscount,j.ghoBorrowAPYWithMaxDiscount),qe=w?void 0:[We,Ge];ze=!(!L||!H)&&(0,J.k9)(H,L,he),Ve={qualifiesForDiscount:ze,ghoApyRange:qe,userBorrowApyAfterMaxSwitch:Ge,userDiscountTokenBalance:A.userDiscountTokenBalance,inputAmount:Number(fe),targetAmount:Number(Ae),userCurrentBorrowApy:We,ghoVariableBorrowApy:j.ghoVariableBorrowAPY,userGhoAvailableToBorrowAtDiscount:A.userGhoAvailableToBorrowAtDiscount,ghoBorrowAPYWithMaxDiscount:j.ghoBorrowAPYWithMaxDiscount,userCurrentBorrowBalance:A.userGhoBorrowBalance}}return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(U.W,{value:fe,onChange:function(e){var t="-1"===e;se.current=t?he:e,ie(e),E(void 0)},usdValue:Me.toString(),symbol:t.symbol,assets:[{balance:he,address:t.underlyingAsset,symbol:t.symbol,iconSymbol:t.iconSymbol}],maxValue:he,inputTitle:(0,Z.jsx)(o.cC,{id:"Borrowed asset amount"}),balanceText:(0,Z.jsx)(a.Fragment,{children:(0,Z.jsx)(o.cC,{id:"Borrow balance"})}),isMaxSelected:ye}),(0,Z.jsxs)(f.Z,{sx:{padding:"18px",pt:"14px",display:"flex",justifyContent:"space-between"},children:[(0,Z.jsx)(y.Z,{sx:{fontSize:"18px !important"},children:(0,Z.jsx)(m.Z,{})}),(0,Z.jsx)(M.B,{loading:Ee,outputAmountUSD:Ne.toString(),inputAmountUSD:Me.toString()})]}),(0,Z.jsx)(U.W,{value:Ae,onSelect:ue,usdValue:Ne.toString(),symbol:ce.symbol,assets:ne,inputTitle:(0,Z.jsx)(o.cC,{id:"Switch to"}),balanceText:(0,Z.jsx)(o.cC,{id:"Supply balance"}),disableInput:!0,loading:Ee,selectOptionHeader:(0,Z.jsx)(De,{}),selectOption:function(e){var t,r;return(0,J.F$)({symbol:e.symbol,currentMarket:C})?(0,Z.jsx)(Oe,{asset:e,ghoApyRange:null===(t=Ve)||void 0===t?void 0:t.ghoApyRange,userBorrowApyAfterMaxSwitch:null===(r=Ve)||void 0===r?void 0:r.userBorrowApyAfterMaxSwitch,userDiscountTokenBalance:A.userDiscountTokenBalance,currentMarket:C,qualifiesForDiscount:ze}):(0,Z.jsx)(Te,{asset:e})}}),Ze&&!Ee&&(0,Z.jsx)(h.Z,{variant:"helperText",color:"error.main",children:Ze}),!Ze&&void 0!==Fe&&(0,Z.jsx)(h.Z,{variant:"helperText",color:"error.main",children:(0,Z.jsx)(Ue,{})}),(0,Z.jsx)(Y.m6,{gasLimit:B,slippageSelector:(0,Z.jsx)($.n,{selectedSlippage:pe,setSlippage:function(e){E(void 0),xe(e)},slippageTooltipHeader:(0,Z.jsxs)(b.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsx)(o.cC,{id:"Maximum amount received"}),(0,Z.jsx)(b.Z,{alignItems:"end",children:(0,Z.jsxs)(b.Z,{direction:"row",children:[(0,Z.jsx)(_.T1,{symbol:me.reserve.iconSymbol,sx:{mr:1,fontSize:"14px"}}),(0,Z.jsx)(N.B,{value:Ye,variant:"secondary12"})]})})]})}),children:(0,Z.jsx)(je,{switchSource:r,switchTarget:me,toAmount:Ae,fromAmount:""===fe?"0":fe,loading:Ee,sourceBalance:he,sourceBorrowAPY:i===d.tk.Variable?t.variableBorrowAPY:t.stableBorrowAPY,targetBorrowAPY:me.reserve.variableBorrowAPY,showAPYTypeChange:i===d.tk.Stable,ghoData:Ve,currentMarket:C})}),I&&(0,Z.jsx)(re.f,{txError:I}),_e&&(0,Z.jsx)(F.v,{severity:"error",sx:{mt:4},children:(0,Z.jsx)(h.Z,{variant:"caption",children:(0,Z.jsx)(o.cC,{id:"Insufficient collateral to cover new borrow position. Wallet must have borrowing power remaining to perform debt switch."})})}),(0,Z.jsx)(be,{isMaxSelected:ye,poolReserve:t,amountToSwap:Se,amountToReceive:Ye,isWrongNetwork:n,targetReserve:me.reserve,symbol:t.symbol,blocked:void 0!==Fe||""!==Ze||_e,loading:ke,buildTxFn:Ie,currentRateMode:i===d.tk.Variable?2:1})]})},De=function(){return(0,Z.jsx)(E,{sx:function(e){return{borderBottom:"1px solid ".concat(e.palette.divider),mt:-1}},children:(0,Z.jsxs)(b.Z,{direction:"row",sx:{py:4},gap:14,children:[(0,Z.jsx)(h.Z,{variant:"subheader2",children:(0,Z.jsx)(o.cC,{id:"Select an asset"})}),(0,Z.jsx)(h.Z,{variant:"subheader2",children:(0,Z.jsx)(o.cC,{id:"Borrow APY"})})]})})},Te=function(e){var t=e.asset;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(_.T1,{aToken:t.aToken,symbol:t.iconSymbol||t.symbol,sx:{fontSize:"22px",mr:1}}),(0,Z.jsx)(C.Z,{sx:{mr:6},children:t.symbol}),(0,Z.jsxs)(f.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"end"},children:[(0,Z.jsx)(N.B,{value:t.variableApy,percent:!0,variant:"main14",color:"text.secondary"}),(0,Z.jsx)(h.Z,{variant:"helperText",color:"text.secondary",children:(0,Z.jsx)(o.cC,{id:"Variable rate"})})]})]})},Oe=function(e){var t,r=e.ghoApyRange,n=e.asset,a=e.userBorrowApyAfterMaxSwitch,i=e.userDiscountTokenBalance,s=e.currentMarket,l=e.qualifiesForDiscount;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(_.T1,{aToken:n.aToken,symbol:n.iconSymbol||n.symbol,sx:{fontSize:"22px",mr:1}}),(0,Z.jsx)(C.Z,{sx:{mr:6},children:n.symbol}),(0,Z.jsxs)(f.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"end"},children:[(0,Z.jsx)(R.B,{useApyRange:l,rangeValues:r,variant:"main14",color:"text.secondary",value:null!==a&&void 0!==a?a:-1,"data-cy":"apyType",stkAaveBalance:i,ghoRoute:L.Z6.reserveOverview(null!==(t=null===n||void 0===n?void 0:n.address)&&void 0!==t?t:"",s)+"/#discount",forceShowTooltip:!0,withTokenIcon:l,userQualifiesForDiscount:l}),(0,Z.jsx)(h.Z,{variant:"helperText",color:"text.secondary",children:(0,Z.jsx)(o.cC,{id:"Fixed rate"})})]})]})};function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ke=function(){var e=(0,l.vR)(),t=e.type,r=e.close,n=e.args;return(0,Z.jsx)(i.P,{open:t===l.w8.DebtSwitch,setOpen:r,children:(0,Z.jsx)(c.A,{title:(0,Z.jsx)(o.cC,{id:"Switch borrow position"}),underlyingAsset:n.underlyingAsset,hideTitleSymbol:!0,children:function(e){return(0,Z.jsx)(s.X,{children:function(t){return(0,Z.jsx)(Se,Ze(Ze({},e),{},{currentRateMode:n.currentRateMode,user:t}))}})}})})}},99730:function(e,t,r){r.d(t,{f:function(){return c}});var n=r(49501),o=r(61953),a=r(29630),i=r(69331),s=r(67916),l=r(85893),c=function(e){var t=e.txError;return(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(s.Q,{txError:t}),"MetaMask Message Signature: User denied message signature."!==t.rawError.message&&"MetaMask Tx Signature: User denied transaction signature."!==t.rawError.message&&(0,l.jsx)(o.Z,{sx:{pt:4},children:(0,l.jsx)(i.v,{severity:"info",children:(0,l.jsxs)(a.Z,{variant:"description",children:[" ",(0,l.jsx)(n.cC,{id:"Tip: Try increasing slippage or reduce input amount"})]})})})]})}},94671:function(e,t,r){r.d(t,{NI:function(){return n},gK:function(){return i},pQ:function(){return s},Fi:function(){return l},iv:function(){return c},yI:function(){return u}});var n,o=r(70794),a=r(29946);!function(e){e[e.SUPPLY_CAP_REACHED=0]="SUPPLY_CAP_REACHED",e[e.NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH=1]="NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH",e[e.ZERO_LTV_WITHDRAW_BLOCKED=2]="ZERO_LTV_WITHDRAW_BLOCKED",e[e.FLASH_LOAN_NOT_AVAILABLE=3]="FLASH_LOAN_NOT_AVAILABLE"}(n||(n={}));var i=function(e,t){return"-1"!==e&&new o.O(e).minus(new o.O(t)).lt("1.05")},s=65e3,l=55e3,c=function(e){var t=e.approvedAmount,r=e.signedAmount,n=e.amount;return!("-1"===t||"-1"===r||"0"!==t&&Number(t)>=Number(n)||Number(r)>=Number(n))},u=function(e,t,r,n){var o=e.reserve;if(!o.usageAsCollateralEnabled)return a.z.UNAVAILABLE;var i=a.z.ENABLED,s=e&&"0"!==e.scaledATokenBalance,l="0"!==t;return o.isIsolated?n?i=a.z.UNAVAILABLE:r?s?i=e.usageAsCollateralEnabledOnUser?a.z.ISOLATED_ENABLED:a.z.DISABLED:l&&(i=a.z.UNAVAILABLE_DUE_TO_ISOLATION):i=l?a.z.ISOLATED_DISABLED:a.z.ISOLATED_ENABLED:i=r?a.z.UNAVAILABLE_DUE_TO_ISOLATION:s?e.usageAsCollateralEnabledOnUser?a.z.ENABLED:a.z.DISABLED:a.z.ENABLED,i}},59286:function(e,t,r){r.d(t,{nG:function(){return l},BC:function(){return c},hF:function(){return u}});var n=r(75331),o=r(1279),a=r(70794),i=r(21046),s=r(87385);function l(e,t,r){var l,c,u,d,p=e.availableLiquidityUSD,x=a.Z.min(t.availableBorrowsUSD,p),m="0"===e.borrowCap?(0,o.hE)(i.Bz.toString()):(0,o.hE)(Number(e.borrowCap)).minus((0,o.hE)(e.totalDebt)),v=a.Z.max(a.Z.min(e.formattedAvailableLiquidity,m),0),b=(0,o.hE)((null===t||void 0===t?void 0:t.availableBorrowsMarketReferenceCurrency)||0).div(e.formattedPriceInMarketReferenceCurrency),h=a.Z.min(b,v);r===n.tk.Stable&&(h=a.Z.min(h,(0,o.hE)(e.formattedAvailableLiquidity).multipliedBy(.25)));var y=h.gte(b)||"0"!==t.totalBorrowsMarketReferenceCurrency&&x.lt(p)||x.eq(p)&&"0"!==e.totalDebt||e.borrowCapUSD&&"0"!==e.totalDebt&&x.gte(p)||t.isInIsolationMode&&"0"!==(null===(l=t.isolatedReserve)||void 0===l?void 0:l.isolationModeTotalDebt)&&(0,o.hE)((null===(c=t.isolatedReserve)||void 0===c?void 0:c.debtCeiling)||"0").minus((null===(u=t.isolatedReserve)||void 0===u?void 0:u.isolationModeTotalDebt)||"0").shiftedBy(-((null===(d=t.isolatedReserve)||void 0===d?void 0:d.debtCeilingDecimals)||0)).multipliedBy("0.99").lt(t.availableBorrowsUSD)?h.multipliedBy("0.99"):h;return(0,s.$w)(y.toString(10),e.decimals)}function c(e,t){var r,n,l,c,u=(0,o.hE)((null===e||void 0===e?void 0:e.availableBorrowsMarketReferenceCurrency)||0),d="0"===t.borrowCap?(0,o.hE)(i.Bz.toString()):(0,o.hE)(Number(t.borrowCap)).minus((0,o.hE)(t.totalDebt)),p=a.Z.max(a.Z.min(u,d),0),x="0"!==e.totalBorrowsMarketReferenceCurrency||t.borrowCapUSD&&"0"!==t.totalDebt&&p.gte(d)||e.isInIsolationMode&&"0"!==(null===(r=e.isolatedReserve)||void 0===r?void 0:r.isolationModeTotalDebt)&&(0,o.hE)((null===(n=e.isolatedReserve)||void 0===n?void 0:n.debtCeiling)||"0").minus((null===(l=e.isolatedReserve)||void 0===l?void 0:l.isolationModeTotalDebt)||"0").shiftedBy(-((null===(c=e.isolatedReserve)||void 0===c?void 0:c.debtCeilingDecimals)||0)).multipliedBy("0.99").lt(e.availableBorrowsUSD)?p.multipliedBy("0.99"):p;return(0,s.$w)(x.toString(10),18)}function u(e,t){var r=e.borrowingEnabled,n=e.isActive,o=e.borrowableInIsolation,a=e.eModeCategoryId,i=e.isFrozen,s=e.isPaused;return!(!r||!n||i||s)&&((null===t||void 0===t||!t.isInEmode||a===t.userEmodeCategoryId)&&!(null!==t&&void 0!==t&&t.isInIsolationMode&&!o))}},52358:function(e,t,r){var n=r(67294);const o=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 14l-7 7m0 0l-7-7m7 7V3"}))}));t.Z=o}}]);